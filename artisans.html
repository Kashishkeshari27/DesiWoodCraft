<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        .fade-in {
  animation: fade 1s ease-in;
}

@keyframes fade {
  from { opacity: 0; }
  to { opacity: 1; }
}
/* RESET */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* NAVBAR */
.navbar {
    background-color: #5a3e2b;
    color: white;
    padding: 15px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;  
    position: sticky;
    top: 0;
} 

.navbar .navbar-brand {
    font-size: 22px;
    font-weight: bold;
}

.nav-links {
    list-style: none;
    display: flex;
    gap: 20px;
}

.nav-links a {
    text-decoration: none;
    color: white;
    font-weight: bold;
}

/* HERO SECTION */
.hero {
    background: url("https://tse1.mm.bing.net/th/id/OIP.B1SXgpD3aeW-HjFKZ-ihAwHaEC?cb=ucfimg2&ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3") 
        center/cover no-repeat;
    height: 70vh;
    color: white;
    text-align: center;
    padding-top: 150px;
}

.hero h1 {
    font-size: 48px;
}

.hero p {
    margin: 10px 0 20px;
    font-size: 20px;
}

.hero-btn {
    padding: 12px 25px;
    font-size: 18px;
    border: none;
    background-color: #5a3e2b;
    color: white;
    cursor: pointer;
    border-radius: 6px;
}

/* SECTIONS */
.section {
    padding: 60px 40px;
    text-align: center;
}

.grey {
    background-color: #f4f4f4;
}

.section-title {
    font-size: 28px;
    margin-bottom: 25px;
}

/* CARDS */
.card-container {
    display: flex;
    gap: 25px;
    justify-content: center;
    flex-wrap: wrap;
}

.card {
    background: white;
    width: 250px;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 0 8px #ccc;
    text-align: center;
}

.card img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
}

/* CUSTOM FORM */
.custom-form {
    width: 350px;
    margin: auto;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.custom-form input,
.custom-form textarea {
    padding: 10px;
    border: 1px solid #888;
    border-radius: 6px;
}

.custom-form button {
    padding: 12px;
    background-color: #5a3e2b;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

/* FOOTER (STICKY) */
footer {
    margin-top: auto;
    background-color: #5a3e2b;
    color: white;
    text-align: center;
    padding: 15px;
}
.hero-btn {
    text-decoration: none;
    display: inline-block;
}
.artisan-container {
    margin-top: 30px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

/* Full-screen background image */
#nearby {
    background: 
        linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), 
        url("https://wallpaperaccess.com/full/3165466.jpg")
        no-repeat center center/cover;
    padding: 60px 20px;
    min-height: 100vh;        /* full screen */
    color: white;
}

/* Glassmorphism container for all artisan cards */
.glass-box {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    padding: 25px;
    border-radius: 15px;
    margin-top: 25px;
}

/* Grid of cards */
.artisan-container {
    margin-top: 30px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

/* Glass cards */
.artisan-card {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(12px);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    transition: 0.3s ease;
}

.artisan-card:hover {
    transform: translateY(-5px);
}

/* Titles */
.section-title {
    color: #fff;
    text-shadow: 1px 1px 3px #000;
}
    </style>

</head>
<body id="artist">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark  fixed-top">
  <div class="container">
    <a class="navbar-brand" href="index.html">WoodCraft</a>

    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="product.html">Products</a></li>
        <li class="nav-item"><a class="nav-link" href="artisans.html">Artisans</a></li>
        <li class="nav-item"><a class="nav-link" href="product-request.html">Custom Request</a></li>
        <li class="nav-item"><a class="nav-link" href="cart.html">Cart</a></li>
      </ul>
    </div>
  </div>
</nav>

    <section id="nearby" class="section">
      <div>
           <h2 class="section-title">Find Nearby Wooden Artisans</h2>

    <button class="hero-btn" onclick="findArtisans()">Find Artisans Near Me</button>

    <p id="userLocation" style="margin-top:15px; font-weight:bold;"></p>

    <div id="artisanList" style="margin-top:20px;"></div>
      </div>
   
</section>

    <footer class="bg-dark text-white text-center p-3 mt-5 fixed-bottom">
  <p>Â© 2025 WoodCraft â€“ Handmade Wooden Products</p>
</footer>
<script>
    navigator.geolocation.getCurrentPosition(pos => {
  let map = L.map('map').setView([pos.coords.latitude, pos.coords.longitude], 13);

  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png")
    .addTo(map);

  fetch("data/artisans.json")
    .then(res => res.json())
    .then(list => {
      list.forEach(a => {
        L.marker([a.lat, a.lng]).addTo(map)
          .bindPopup(a.name);
      });
    });
});
// Predefined cities + artisan data
const cityData = [
    { city: "Lucknow", lat: 26.8467, lon: 80.9462,
      artisans: [
         {name:"Rahul Sharma", area:"Gomti Nagar", exp:5},
         {name:"Anjali Crafts", area:"Hazratganj", exp:3}
      ]},

    { city: "Kanpur", lat: 26.4499, lon: 80.3319,
      artisans: [
         {name:"WoodenWorks", area:"Kakadeo", exp:7},
         {name:"HandArt", area:"Swaroop Nagar", exp:4}
      ]},

    { city: "Delhi", lat: 28.7041, lon: 77.1025,
      artisans: [
         {name:"Delhi Wood House", area:"Rohini", exp:10},
         {name:"CraftVilla", area:"Janakpuri", exp:6}
      ]}
];

// Calculate distance in KM
function distance(lat1, lon1, lat2, lon2) {
    const R = 6371; // km
    const dLat = (lat2 - lat1) * Math.PI / 180;
    const dLon = (lon2 - lon1) * Math.PI / 180;

    const a = Math.sin(dLat/2)**2 +
              Math.cos(lat1 * Math.PI/180) *
              Math.cos(lat2 * Math.PI/180) *
              Math.sin(dLon/2)**2;

    return R * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));
}

// User location fetch
function findArtisans() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        document.getElementById("userLocation").innerHTML =
            "Geolocation not supported by your browser.";
    }
}

function showPosition(position) {
    let userLat = position.coords.latitude;
    let userLon = position.coords.longitude;

    document.getElementById("userLocation").innerHTML =
        `ðŸ“ Your Location: ${userLat.toFixed(3)}, ${userLon.toFixed(3)}`;

    let nearestCity = null;
    let minDist = Infinity;

    // Find nearest city
    cityData.forEach(city => {
        let dist = distance(userLat, userLon, city.lat, city.lon);
        if (dist < minDist) {
            minDist = dist;
            nearestCity = { ...city, distance: dist };
        }
    });

    // Display artisan cards
    let container = document.getElementById("artisanList");
    container.innerHTML = `
        <h3>Nearest City: ${nearestCity.city} (${nearestCity.distance.toFixed(1)} km away)</h3>
    `;

    nearestCity.artisans.forEach(a => {
        container.innerHTML += `
            <div class="artisan-card">
                <h3>${a.name}</h3>
                <p><strong>Area:</strong> ${a.area}</p>
                <p><strong>Experience:</strong> ${a.exp} years</p>
                <p><strong>Specialty:</strong> Handmade wooden crafts</p>
            </div>
        `;
    });
}
</script>

</body>
</html>
